# ============================================================================
# UBML Actors Document Schema
# ============================================================================
# Schema for .actors.ubml.yaml files - actor and organization definitions.
#
# FILE PATTERN: *.actors.ubml.yaml
# ============================================================================

$schema: "https://json-schema.org/draft/2020-12/schema"
$id: "https://ubml.io/schemas/1.1/documents/actors.document.yaml"
title: "Actors"
description: |
  Actor documents define the people, roles, teams, and systems that 
  participate in business processes.
  
  WHAT IS AN ACTOR?
  An actor is any entity that performs work in a process:
  - Roles (Job titles, functional roles)
  - Teams (Departments, groups)
  - Systems (IT systems, automated services)
  - External parties (Customers, vendors)
  
  ACTOR COMPONENTS:
  - Actors: The participants themselves with skills and availability
  - Skills: Competencies and capabilities actors possess
  - ResourcePools: Groups of actors for capacity planning
  - Equipment: Physical resources used by actors
  
  FILE NAMING: *.actors.ubml.yaml
  Examples:
    - sales-team.actors.ubml.yaml
    - operations-department.actors.ubml.yaml
    - external-parties.actors.ubml.yaml

# CLI metadata - structured data for tooling
x-ubml-cli:
  category: core
  categoryDisplayName: "Core Modeling"
  workflowOrder: 2
  shortDescription: "Define people, roles, teams, and systems that participate in processes."
  gettingStarted:
    - "Define actors with their types (role, team, system, external)"
    - "Add skills they possess"
    - "Define availability and capacity"
    - "Optionally add personas and pain points"
  exampleFilename: "actors.ubml.yaml"
  exampleFilenameAlternative: "organization.actors.ubml.yaml"
  templateDefaults:
    actors:
      type: "role"
      kind: "human"

type: object
additionalProperties: false
required: [ubml]

properties:
  ubml:
    description: |
      UBML version identifier.
      Must be "1.1" for this schema version.
    type: string
    const: "1.1"
  
  name:
    description: |
      Optional document name.
      If not provided, the filename is used.
    type: string
  
  description:
    description: |
      Document description.
      Explain what actors are defined in this file.
    type: string
  
  actors:
    description: |
      Actor definitions, keyed by actor ID.
      
      Actor IDs follow the AC### pattern (e.g., AC00001, AC00002).
      
      Example:
        actors:
          AC00001:
            name: "Sales Representative"
            type: role
            skills:
              - skill: SK00001
                level: expert
            availability:
              hoursPerDay: 8
              daysPerWeek: 5
    type: object
    additionalProperties: false
    patternProperties:
      "^AC\\d{5,}$":
        $ref: "../fragments/actor.fragment.yaml#/$defs/Actor"
  
  skills:
    description: |
      Skill definitions, keyed by skill ID.
      
      Skill IDs follow the SK### pattern.
      
      Example:
        skills:
          SK00001:
            name: "Customer Communication"
            category: soft-skill
            description: "Ability to communicate effectively with customers"
    type: object
    additionalProperties: false
    patternProperties:
      "^SK\\d{5,}$":
        $ref: "../fragments/resource.fragment.yaml#/$defs/Skill"
  
  resourcePools:
    description: |
      Resource pool definitions, keyed by pool ID.
      
      Resource pool IDs follow the RP### pattern.
      
      Example:
        resourcePools:
          RP00001:
            name: "Order Processing Team"
            members: [AC00001, AC00002, AC00003]
            capacity: 24
            capacityUnit: hours-per-day
    type: object
    additionalProperties: false
    patternProperties:
      "^RP\\d{5,}$":
        $ref: "../fragments/resource.fragment.yaml#/$defs/ResourcePool"
  
  equipment:
    description: |
      Equipment definitions, keyed by equipment ID.
      
      Equipment IDs follow the EQ### pattern.
      
      Example:
        equipment:
          EQ00001:
            name: "Forklift"
            type: vehicle
            capacity: 2000
            capacityUnit: kg
    type: object
    additionalProperties: false
    patternProperties:
      "^EQ\\d{5,}$":
        $ref: "../fragments/resource.fragment.yaml#/$defs/Equipment"
  
  metadata:
    description: "Document metadata."
    type: object
    additionalProperties: false
    properties:
      createdAt:
        type: string
        format: date-time
      createdBy:
        type: string
      updatedAt:
        type: string
        format: date-time
      updatedBy:
        type: string
  
  tags:
    description: "Tags for filtering and organization."
    type: array
    items:
      type: string
  
  custom:
    description: "User-defined custom fields."
    $ref: "../common/defs.schema.yaml#/$defs/CustomFields"
