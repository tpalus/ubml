# ============================================================================
# UBML Document Types Schema
# ============================================================================
# Defines document types in the information model.
#
# ============================================================================

$schema: "https://json-schema.org/draft/2020-12/schema"
$id: "https://ubml.talxis.com/schemas/1.2/types/document.types.yaml"
title: "UBML Document Types"
description: |
  Documents representing physical or digital files in a process.
  
  Documents are distinct from entities - they represent files with content
  and format, while entities represent structured data.

$defs:

  # ==========================================================================
  # DOCUMENT
  # ==========================================================================

  Document:
    description: |
      A document in the information model.
      
      Documents represent physical or digital files that:
      - Are inputs to or outputs from process steps
      - Have a format (PDF, Word, Excel, etc.)
      - May require signatures or approvals
      - May be templates or generated documents
      
      DOCUMENT EXAMPLES:
      - Contract, Invoice, Purchase Order, Report
      - Application Form, Approval Form, Checklist
      - Technical Drawing, Specification, Manual
      
      DOCUMENT vs ENTITY:
      Documents have file content and format.
      Entities are structured data in systems.
      
      Example:
        DC001:
          name: Contract Agreement
          format: pdf
          description: "Signed contract between parties"
          isTemplate: false
          requiresSignature: true
    type: object
    additionalProperties: false
    required: [name]
    properties:
      name:
        description: "Human-readable document name."
        type: string
      
      description:
        description: "Detailed description of the document."
        type: string
      
      format:
        description: |
          Document format or file type.
          
          Examples: "pdf", "docx", "xlsx", "jpg", "dwg"
        type: string
      
      isTemplate:
        description: |
          Whether this is a template document.
          Templates are used to generate actual documents.
        type: boolean
        default: false
      
      templateSource:
        description: |
          For generated documents, the template document ID.
        $ref: "../defs/refs.defs.yaml#/$defs/DocumentRef"
      
      requiresSignature:
        description: "Whether the document requires signature(s)."
        type: boolean
        default: false
      
      signatureCount:
        description: "Number of signatures required."
        type: integer
        minimum: 0
      
      retentionPeriod:
        description: |
          How long the document must be retained.
          
          Example: "7y" (7 years)
        $ref: "../defs/primitives.defs.yaml#/$defs/Duration"
      
      confidentiality:
        description: |
          Confidentiality classification.
          
          Common values:
          - public: No restrictions
          - internal: Internal use only
          - confidential: Restricted access
          - secret: Highly restricted
        type: string
        enum: [public, internal, confidential, secret]
      
      system:
        description: |
          System or repository where this document is stored.
          
          Example: "SharePoint", "DMS", "Archive System"
        type: string
      
      relatedEntity:
        description: |
          Entity this document relates to or is attached to.
          
          Example: A contract document relates to a Contract entity.
        $ref: "../defs/refs.defs.yaml#/$defs/EntityRef"
      
      tags:
        description: "Tags for filtering and views."
        type: array
        items:
          type: string
      
      custom:
        description: "User-defined custom fields."
        $ref: "../defs/shared.defs.yaml#/$defs/CustomFields"
